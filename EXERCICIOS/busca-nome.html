<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busca de um nome</title>

    <style>
        label[for="nome"] {
            color: blue;
        }

        .oculto {
            display: none;
        }

        .oculto {
            background-color: #5cf561;
        }

        .acao-alternativa:hover{
            background-color: #5cf561;
        }

        .acao-alternativa:active{
            background-color: #2adf30;
        }

    </style>
</head>
<body>
    <!-- Abrir um campo para receber o nome-->

    <h1 class = "titulo-pagina">Busca nome></h1>

<main>

<form action="">

    <div class="contole-form">
    <label for="nome">Nome para incluir</label>
    <input type="text" id="nome" required autofocus>   

    <button type="reset" id="btCadastrar">Cadastrar</button>

    <button type="button" id="btPesquisar"class="oculto acao-alternativa">Pesquisar</button>
    </div>

</form>

    <div id="resultado"></div>

</main>

<script> 
    // o uso do querySelector permite buscar pelo id, se fosse class era colocar apenas um pto e 
    // elemento button seria colocar os atributos de seleção

                 // é como se fosse o endereço (0, 1, 2, 3..)para acessar um indice dentro do vetor
                // o i e indice da variavel array;  Eu nao consigo acessar um endereço se eu nao tiver
                // o indice. Nao consigo acessar um valor se eu nao definir o valor. 

    let nomes = []; // array vazio chamado nomes, preciso que i seja igual a 0, e depois disso oque 
                    // ordenará será o arreio para selecionar de 1 em 1. O array esta fora para ser acessado
                    // tanto como botao de leitura e entrada. 

    document.addEventListener('keydown', (evento) => {
    
        if (evento.key === 'Enter') {

            evento.preventDefault();

            if (nomes.length <10) {
        
                document.querySelector('#btCadastrar').click();
            }else{

                document.querySelector('#btPesquisar').click();
            }
        }
    });

    document.querySelector('#btCadastrar').addEventListener('click', () => {

        nomes.push(document.querySelector('#nome').value);          // O PUSH vai buscar automaticamente oque estavamos 
                                                                    // fazeno manualmemte.
        // ao atingir 10 nomes...
        if (nomes.length == 10) {           

        
            // Troque a label do input "nome"
            document.querySelector('label[for="name"]').innerHTML       // Esta tag ('label[for="name"]') é um seletor de estilo
            = 'Nome para pesquisar';                                    // Depois que eu tiver os 10 nomes troca o texto do botao cadastrar para pesquisar
            
            // Oculte o botão pesquisar
            document.querySelector('#btCadastrar').classList.add          //CLASSLIST para acessar a lista de classe dos elementos
            ('oculto');

            // Desoculte o botão pesquisar
            document.querySelector('#btPesquisar').classList.remove       //REMOVE ao atingir 10 nomes 
            ('oculto');
    
        }
    });


    document.querySelector('#btPesquisar').addEventListener 
            ('click', () => {                                           //Este bloco tem que ter o i para pegar cada um dos nomes e atribuir para o 
                                                                        // HTML do resultado
                                                                        //console.log(nomes [i])};
        const nomeBuscado = document.querySelector ('#nome').value;        

        // INCLUDES retornará para o verdadeiro ou falso e o INDEXOF busca o elemento e mostra 
        // condição alternativa: (nomes.indexOf(nomeBuscado) => 0)
        if (nomes.includes (nomeBuscar)) {

            document.querySelector('#resultado').innerHTML =
            `ACHEI na posição' ${nomes.indexOf(nomeBuscado)},
            "${nomes[nomes.indexOf(nomeBuscado)]}"`;

        } else {

            document.querySelector('#resultado').innerHTML =
            'NAO ACHEI';
        }

 }); 

    // TODO
    // 1. Quando eu clicar no botao CADASTRAR limpar o input;
    // 2. Limite de entrada de daos, isto é apenas 10 nomes.
    // 3. Após o 10o. nome o buscar o proxim nono ;
    // 4. Exibir se o nome foi encontrado 


    </script>
</body>
</html>